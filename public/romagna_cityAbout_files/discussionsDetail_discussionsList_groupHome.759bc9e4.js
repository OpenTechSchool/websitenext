(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1264:function(e,s,t){"use strict";t.d(s,"b",(function(){return h})),t.d(s,"h",(function(){return k})),t.d(s,"c",(function(){return M})),t.d(s,"d",(function(){return b})),t.d(s,"p",(function(){return w})),t.d(s,"n",(function(){return O})),t.d(s,"v",(function(){return _})),t.d(s,"r",(function(){return S})),t.d(s,"s",(function(){return j})),t.d(s,"i",(function(){return L})),t.d(s,"t",(function(){return y})),t.d(s,"q",(function(){return A})),t.d(s,"k",(function(){return N})),t.d(s,"l",(function(){return x})),t.d(s,"m",(function(){return R})),t.d(s,"j",(function(){return P})),t.d(s,"u",(function(){return B})),t.d(s,"x",(function(){return V})),t.d(s,"g",(function(){return F})),t.d(s,"f",(function(){return U})),t.d(s,"a",(function(){return J})),t.d(s,"e",(function(){return W})),t.d(s,"o",(function(){return G})),t.d(s,"w",(function(){return q})),t.d(s,"y",(function(){return z}));var n=t(10),i=t.n(n),o=t(1),a=t(2),r=t(66),c=t(42),u=t(52),l=t(321),d=t(266),f=t(308),p=t(184),m=t(1321),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.EMPTY_OBJ,s=e.self;if(!s||!s.actions)return e;var t=function(e){return s.actions.indexOf(e)>-1};return i()({},e,{following:s.followed,self:i()({},s,{canUnlike:t("unlike"),canLike:t("like"),canComment:t("comment"),canDelete:t("delete"),canFollow:t("follow"),canUnfollow:t("unfollow")})})},D=function(e){return e.api[p.a]},h=Object(o.createSelector)(D,(function(e){var s=Object(a.getValue)(e,a.EMPTY_OBJ);return Object(a.hasValidRespValue)(s)?g(s):a.EMPTY_OBJ})),k=Object(o.createSelector)(D,(function(e){return"Not Found"===(e||{}).error})),M=Object(o.createSelector)(D,(function(e){return Object(a.hasRespErrors)(e)&&"Not Found"!==(e||{}).error})),b=Object(o.createSelector)((function(e){return e[d.a]||a.EMPTY_OBJ}),(function(e){return e.followers||a.EMPTY_OBJ})),E=function(e){return e.api[f.a]||{}},v=function(e){var s=Object(a.getValue)(e,a.EMPTY_AR);return Object(a.hasValidRespValue)(s)?s.map(g):a.EMPTY_AR},w=Object(o.createSelector)(E,v),O=Object(o.createSelector)(E,(function(e){return parseInt((e.meta||{}).totalCount||0,10)})),C=function(e){return e.api["list_".concat(f.a)]||{}},_=Object(o.createSelector)(C,v),S=Object(o.createSelector)(E,a.hasLoaded),j=Object(o.createSelector)(C,a.hasLoaded),L=Object(o.createSelector)(E,a.hasRespErrors),y=(Object(o.createSelector)(E,(function(e){return Object(a.hasValidRespValue)(e)&&e.meta?parseInt(e.meta.totalCount,10):0})),Object(o.createSelector)(a.getInFlight,(function(e){return e.includes(f.a)}))),A=Object(o.createSelector)(E,(function(e){return Object(a.hasValidRespValue)(e)&&e.meta&&(e.meta.link||{}).next||""})),T=function(e){return e.api[m.e]},N=Object(o.createSelector)(T,(function(e){var s=Object(a.getValue)(e);return Object(a.hasValidRespValue)(e)?g(s):a.EMPTY_OBJ})),x=Object(o.createSelector)(T,(function(e){return Object(a.hasRespErrors)(e)?e.value.errors.reduce((function(e,s){return s.code}),""):""})),R=Object(o.createSelector)((function(e){return e.api[m.a]}),(function(e){var s=Object(a.getValue)(e);return Object(a.hasValidRespValue)(e)?{id:e.meta.endpoint.split("/").pop()}:s})),P=Object(o.createSelector)((function(e){return e.api[m.b]}),(function(e){if(Object(a.isEmpty)(e))return a.EMPTY_OBJ;if(Object(a.hasValidRespValue)(e)&&204===e.meta.statusCode){var s=e.meta.endpoint,t=/discussions\/([^/]+)\/(?:un)?follow/gi.exec(s);return{discussionId:null===t?"":t[1],isFollowing:s.endsWith("/follow")}}return{discussionId:"",isFollowing:!1,error:e.error}})),I=function(e,s){if(Object(a.isEmpty)(e))return a.EMPTY_OBJ;var t=e.meta.endpoint,n=/discussions\/([^/]+)\/?like/gi.exec(t),i=null===n?"":n[1];return Object(a.hasValidRespValue)(e)&&204===e.meta.statusCode?{discussionId:i,isLiking:s}:{discussionId:i,isLiking:s,error:e.error}},B=Object(o.createSelector)((function(e){return e.api[m.d]}),(function(e){return I(e,!0)})),V=Object(o.createSelector)((function(e){return e.api[m.f]}),(function(e){return I(e,!1)})),F=Object(o.createSelector)((function(e){return e.api[m.c]}),(function(e){return Object(a.getValue)(e,a.EMPTY_AR)})),Y=function(e){return e.api[f.b]||a.EMPTY_OBJ},U=Object(o.createSelector)(Y,(function(e){return Object(a.getProperty)(e,"preferences",a.EMPTY_OBJ)})),J=Object(o.createSelector)(U,(function(e){return e.any_member_can_post||null})),H=Object(o.createSelector)(Y,(function(e){return Object(a.getProperty)(e,"self",a.EMPTY_OBJ)})),W=Object(o.createSelector)(H,(function(e){return e.permissions||a.EMPTY_AR})),G=Object(o.createSelector)(Y,a.hasRespErrors),q=Object(o.createSelector)((function(){return function(e,s){var t=s.group,n=void 0===t?a.EMPTY_OBJ:t;return e.api["".concat(f.c,"_").concat(n.urlname)]}}),a.hasRespErrors),z=function(){return Object(o.createSelector)(c.o,(function(e){return Object(r.a)(e,"".concat(Object(u.a)()).concat(l.a[0].path))}))}},1266:function(e,s,t){"use strict";var n=t(0),i=t.n(n),o=t(25),a=t(28),r=t(1),c=t(309),u=t.n(c),l=t(26),d=t.n(l),f=t(14),p=t(1275),m=t.n(p),g=Object(r.createStructuredSelector)({referrerPathname:f.getReferrerPathname}),D=Object(a.compose)(Object(o.connect)(g));s.a=D((function(e){var s=e.children,t=e.timeout,n=void 0===t?400:t,o=e.referrerPathname,a=Boolean(o);return i.a.createElement(d.a,{styles:[m.a]},i.a.createElement(u.a,{in:!0,appear:a,timeout:n,classNames:{appear:m.a["transition-appear"],appearActive:m.a["transition-appear-active"],enter:m.a["transition-enter"],enterActive:m.a["transition-enter-active"]}},i.a.createElement("div",null,s)))}))},1275:function(e,s,t){var n=t(1276),i=t(34);"string"==typeof n&&(n=[[e.i,n,""]]),e.exports=n.locals||{},e.exports._getContent=function(){return n},e.exports._getCss=function(){return n.toString()},e.exports._insertCss=function(e){return i(n,e)}},1276:function(e,s,t){(s=e.exports=t(33)(!1)).push([e.i,"._withTransition-module_transition-appear__28GqG{opacity:.01}._withTransition-module_transition-appear-active__34x1N{opacity:1;-webkit-transition:opacity .4s ease-in;transition:opacity .4s ease-in}._withTransition-module_transition-enter__1LSgB{opacity:.01}._withTransition-module_transition-enter-active__3hW7d{opacity:1;-webkit-transition:opacity .4s ease-in;transition:opacity .4s ease-in}",""]),s.locals={"transition-appear":"_withTransition-module_transition-appear__28GqG","transition-appear-active":"_withTransition-module_transition-appear-active__34x1N","transition-enter":"_withTransition-module_transition-enter__1LSgB","transition-enter-active":"_withTransition-module_transition-enter-active__3hW7d"}},1321:function(e,s,t){"use strict";t.d(s,"b",(function(){return n})),t.d(s,"a",(function(){return i})),t.d(s,"e",(function(){return o})),t.d(s,"d",(function(){return a})),t.d(s,"f",(function(){return r})),t.d(s,"c",(function(){return c}));var n="discussionFollow",i="discussionDelete",o="postDiscussion",a="discussionLike",r="discussionUnlike",c="discussionLikers"},1416:function(e,s,t){"use strict";var n={};t.r(n),t.d(n,"postDiscussion",(function(){return V})),t.d(n,"deleteCommunication",(function(){return F})),t.d(n,"followDiscussion",(function(){return U})),t.d(n,"unfollowDiscussion",(function(){return J})),t.d(n,"likeDiscussion",(function(){return H})),t.d(n,"unlikeDiscussion",(function(){return W})),t.d(n,"discussionLikersQuery",(function(){return G}));var i=t(12),o=t.n(i),a=t(24),r=t.n(a),c=t(10),u=t.n(c),l=t(16),d=t.n(l),f=t(17),p=t.n(f),m=t(19),g=t.n(m),D=t(20),h=t.n(D),k=t(9),M=t.n(k),b=t(21),E=t.n(b),v=t(5),w=t.n(v),O=t(0),C=t(25),_=t(32),S=t(28),j=t(1),L=t(3),y=t(6),A=t.n(y),T=t(1680),N=t(2),x=t(64),R=t(155),P=t(40),I=t(27),B=t(1321),V=function(e){var s=e.urlname,t=e.description;return I.post({endpoint:"".concat(s,"/discussions"),ref:B.e,params:{urlname:s,description:t}})},F=function(e){var s=e.urlname,t=e.discussionId;return I.del({endpoint:"".concat(s,"/discussions/").concat(t),ref:B.a})},Y=function(e){return function(s){var t=s.urlname,n=s.discussionId;return I.post({endpoint:"".concat(t,"/discussions/").concat(n,"/").concat(e),ref:B.b})}},U=Y("follow"),J=Y("unfollow"),H=function(e){var s=e.urlname,t=e.discussionId;return I.post({endpoint:"".concat(s,"/discussions/").concat(t,"/like"),ref:B.d})},W=function(e){var s=e.urlname,t=e.discussionId;return I.del({endpoint:"".concat(s,"/discussions/").concat(t,"/like"),ref:B.f})},G=function(e){var s=e.urlname,t=e.discussionId;return I.get({type:"members",endpoint:"".concat(s,"/discussions/").concat(t,"/likers"),ref:B.c})},q=t(1264),z=function(e){return e.reduce((function(e,s){return e[s.id]=(s.self||N.EMPTY_OBJ).followed||!1,e}),{})},K=function(e){return e.reduce((function(e,s){return e[s.id]=(s.self||N.EMPTY_OBJ).liked||!1,e}),{})},Q=Object(L.defineMessages)({discussionError:{id:"discussionAdd.genericAddError",defaultMessage:"Sorry, something went wrong. Please try again later."},discussionLongContentError:{id:"discussionAdd.addLongContentError",defaultMessage:"Sorry, your post was too long. Please try again."}}),X=Object(j.createStructuredSelector)({pagedDiscussions:q.v,addedDiscussion:q.k,addedDiscussionErrors:q.l,deletedDiscussion:q.m,followDiscussion:q.j,likeDiscussion:q.u,groupDiscussionCount:q.n,unlikedDiscussion:q.x,urlname:P.ab,likers:q.g}),Z=function(e){return{discussionsHandlers:Object(S.bindActionCreators)(n,e)}};s.a=function(e){var s=function(s){function t(e){var s;d()(this,t),s=g()(this,h()(t).call(this,e)),w()(M()(s),"postDiscussionAction",(function(e){if(!e)return!1;var t=s.props,n=t.discussionsHandlers,i=t.urlname;return s.setState((function(){return{addingDiscussion:{isPosting:!0}}})),n.postDiscussion({description:e.trim(),urlname:i})})),w()(M()(s),"deleteDiscussionAction",(function(e){var t=s.props,n=t.discussionsHandlers,i=t.urlname;n.deleteCommunication({urlname:i,discussionId:e})})),w()(M()(s),"followDiscussionAction",(function(e,t){var n=s.props,i=n.discussionsHandlers,o=n.urlname;(t?i.unfollowDiscussion:i.followDiscussion)({urlname:o,discussionId:e})})),w()(M()(s),"likeDiscussionAction",(function(e,t){var n=s.props,i=n.discussionsHandlers,o=n.urlname;s.setState((function(s){return{likingDiscussions:u()({},s.likingDiscussions,w()({},e,!t))}})),(t?i.unlikeDiscussion:i.likeDiscussion)({urlname:o,discussionId:e})})),w()(M()(s),"loadDiscussionLikersAction",(function(e){var t=e.discussionId,n=s.props,i=n.discussionsHandlers,o=n.urlname;i.discussionLikersQuery({urlname:o,discussionId:t})}));var n=e.discussion?[e.discussion]:e.discussions||[],i=z(n),o=K(n);return s.state={discussions:n,pagedDiscussions:N.EMPTY_AR,totalDiscussionsCount:e.groupDiscussionCount,addingDiscussion:{isPosting:!1},followingDiscussions:i,likingDiscussions:o,lastLikedDiscussion:N.EMPTY_OBJ,lastUnlikedDiscussion:N.EMPTY_OBJ,lastDeletedDiscussionId:0},s}return E()(t,s),p()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var s=this,t=this.props.featureFlags.includes(R.e),n=e.groupDiscussionCount;n!==this.props.groupDiscussionCount&&this.setState((function(){return{totalDiscussionsCount:n}}));var i=e.pagedDiscussions;if(i&&this.state.pagedDiscussions!==i){var o=i.filter((function(e){return!s.state.discussions.find((function(s){return s.id===e.id}))})),a=z(o),c=K(o);this.setState((function(e){return{pagedDiscussions:i,discussions:[].concat(r()(e.discussions),r()(o)),followingDiscussions:u()({},e.followingDiscussions,{},a),likingDiscussions:u()({},e.likingDiscussions,{},c)}}))}var l=e.addedDiscussion,d=e.addedDiscussionErrors,f=void 0===d?"":d;if(this.props.addedDiscussion!==l&&!Object(N.isEmpty)(l)||f)if(Object(N.hasValidValue)(l))this.setState((function(e){return{totalDiscussionsCount:e.totalDiscussionsCount+1,addingDiscussion:{isPosting:!1},discussions:r()(new Set([u()({},l,{like_count:0})].concat(r()(e.discussions)))),likingDiscussions:u()({},e.likingDiscussions,w()({},l.id,!1)),followingDiscussions:u()({},e.followingDiscussions,w()({},l.id,(l.self||N.EMPTY_OBJ).followed||!1))}}));else{var p="content_error"===f?this.props.intl.formatMessage(Q.discussionLongContentError):this.props.intl.formatMessage(Q.discussionError);this.setState((function(){return{addingDiscussion:{isPosting:!1,errors:""!==f,errorMessage:p}}}))}var m=e.deletedDiscussion;if(this.props.deletedDiscussion!==m&&!Object(N.isEmpty)(m)&&Object(N.hasValidValue)(m)){var g=this.state.totalDiscussionsCount-1;this.setState((function(e){return{totalDiscussionsCount:g,discussions:e.discussions.filter((function(e){return e.id!==m.id})),lastDeletedDiscussionId:m.id}}))}var D=e.followDiscussion;this.props.followDiscussion===D||Object(N.isEmpty)(D)||Object(N.hasValidValue)(e.followDiscussion)&&""!==e.followDiscussion.discussionId&&this.setState((function(e){return{followingDiscussions:u()({},e.followingDiscussions,w()({},D.discussionId,D.isFollowing))}}));var h=e.likeDiscussion;h&&this.state.lastLikedDiscussion!==h&&(Object(N.hasValidValue)(h)?this.setState((function(e){return{likingDiscussions:u()({},e.likingDiscussions,w()({},h.discussionId,h.isLiking)),lastLikedDiscussion:h}})):this.setState((function(e){var s=e.likingDiscussions?!e.likingDiscussions[h.discussionId]:!h.isLiking;return{likingDiscussions:u()({},e.likingDiscussions,w()({},h.discussionId,s))}})));var k=e.unlikedDiscussion;if(this.state.lastUnlikedDiscussion!==k&&Object(N.hasValidValue)(k)&&this.setState((function(s){return{likingDiscussions:u()({},s.likingDiscussions,w()({},"".concat(e.unlikedDiscussion.discussionId),!1)),lastUnlikedDiscussion:k}})),!t){var M=e.discussions;if(M&&this.props.discussions!==M){var b=z(M),E=K(M);this.setState((function(){return{discussions:M,followingDiscussions:b,likingDiscussions:E,pagedDiscussions:N.EMPTY_AR}}))}}}},{key:"render",value:function(){return O.createElement(e,o()({},this.props,{addingDiscussion:this.state.addingDiscussion,followingDiscussions:this.state.followingDiscussions,followDiscussionAction:this.followDiscussionAction,discussions:this.state.discussions,discussionsHandlers:this.props.discussionsHandlers,deleteDiscussionAction:this.deleteDiscussionAction,lastDeletedDiscussionId:this.state.lastDeletedDiscussionId,loadDiscussionLikersAction:this.loadDiscussionLikersAction,postDiscussionAction:this.postDiscussionAction,likingDiscussions:this.state.likingDiscussions,likeDiscussionAction:this.likeDiscussionAction,totalDiscussionsCount:this.state.totalDiscussionsCount,featureFlags:this.props.featureFlags}))}}]),t}(O.Component),t=e.displayName||e.name||"Component";return s.displayName="WithDiscussionActions(".concat(t,")"),Object(_.compose)(A()(T,!0),Object(x.default)(R.e),Object(C.connect)(X,Z))(s)}},1528:function(e,s,t){"use strict";var n=t(12),i=t.n(n),o=t(16),a=t.n(o),r=t(17),c=t.n(r),u=t(19),l=t.n(u),d=t(20),f=t.n(d),p=t(9),m=t.n(p),g=t(21),D=t.n(g),h=t(5),k=t.n(h),M=t(0),b=t.n(M),E=t(63),v=t.n(E),w=t(143),O=t.n(w),C=t(4),_=t.n(C),S=t(32),j=t(53),L=t(229),y=t.n(L),A=t(3),T=t(93),N=t.n(T),x=t(222),R=t.n(x),P=t(86),I=t.n(P),B=t(69),V=t.n(B),F=t(30),Y=t.n(F),U=t(22),J=t.n(U),H=t(15),W=t.n(H),G=t(13),q=t.n(G),z=t(8),K=t.n(z),Q=t(258),X=t.n(Q),Z=t(221),$=t.n(Z),ee=t(6),se=t.n(ee),te=t(1678),ne=t(327),ie=t(379),oe=t(62),ae=Object(A.defineMessages)({discussionCardXReplies:{id:"discussionCard.numComments",defaultMessage:"{NUM_COMMENTS} replies"},discussionCardOneReply:{id:"discussionCard.oneComment",defaultMessage:"{NUM_COMMENTS} reply"},discussionCardDelete:{id:"discussionCard.delete",defaultMessage:"Delete"},discussionCardFollow:{id:"discussionCard.follow",defaultMessage:"Turn on updates"},discussionCardUnfollow:{id:"discussionCard.unfollow",defaultMessage:"Turn off updates"},discussionCardReport:{id:"discussionCard.report",defaultMessage:"Report"},discussionCardReply:{id:"discussionCard.reply",defaultMessage:"Reply"},discussionCardSeeMore:{id:"discussionCard.seeMore",defaultMessage:"See more"},overflowIconLabel:{id:"discussionCard.overflowIconLabel",defaultMessage:"Additional discussion options"},discussionLikeActionLabel:{id:"discussionCard.discussionLikeActionLabel",defaultMessage:"Like discussion"},pluralLikes:{id:"discussionCard.pluralLikes",defaultMessage:"{LIKE_COUNT} likes"},singularLike:{id:"discussionCard.singularLike",defaultMessage:"1 like"},likeActionText:{id:"discussionCard.likeActionText",defaultMessage:"Like"},unlikeActionText:{id:"discussionCard.unlikeActionText",defaultMessage:"Unlike"},formerMember:{id:"discussionCard.formerMember",defaultMessage:"Former member"}}),re=t(49),ce=t.n(re),ue=t(1679),le=Object(A.defineMessages)({deleteModalTitle:{id:"deleteDiscussionModal.areYouSure",defaultMessage:"Are you sure you want to delete this discussion?"},confirmButton:{id:"deleteDiscussionModal.confirmButton",defaultMessage:"Delete"},cancelButton:{id:"deleteDiscussionModal.cancelButton",defaultMessage:"Not now"}}),de=se()(ue)((function(e){var s=e.onDismiss,t=e.onConfirm;return b.a.createElement(ce.a,{className:"modal--deleteDiscussion",onDismiss:s,fixed:!0,closeArea:!1},b.a.createElement("h1",{className:"align--center padding--top margin--top"},b.a.createElement(A.FormattedMessage,le.deleteModalTitle)),b.a.createElement(q.a,{className:"padding--all"},b.a.createElement(K.a,null,b.a.createElement(Y.a,{className:"button--cancelDeleteDiscussion",onClick:s,fullWidth:!0,neutral:!0},b.a.createElement(A.FormattedMessage,le.cancelButton))),b.a.createElement(K.a,null,b.a.createElement(Y.a,{className:"button--confirmDeleteDiscussion",onClick:t,fullWidth:!0},b.a.createElement(A.FormattedMessage,le.confirmButton)))))})),fe=t(306),pe=t(142),me="discussion-card",ge="".concat(me,"--avatar"),De="".concat(me,"--date"),he="".concat(me,"--overflowMenu-delete"),ke="".concat(me,"--desc"),Me="".concat(me,"--overflowMenu-follow"),be="".concat(me,"--overflowMenu-unfollow"),Ee="".concat(me,"--link"),ve="".concat(me,"--like"),we="".concat(me,"--reply"),Oe="".concat(me,"--likeText"),Ce="".concat(me,"--name"),_e="".concat(me,"--numComments"),Se="".concat(me,"--overflowMenu"),je="".concat(me,"--overflowMenu-report"),Le="".concat(Ee,"--desc"),ye=function(e){function s(e){var t;return a()(this,s),t=l()(this,f()(s).call(this,e)),k()(m()(t),"onDismissLikeModal",(function(){t.setState((function(){return{showLikeModal:!1}}))})),k()(m()(t),"onShowLikeModal",(function(){var e=t.props;(0,e.onLoadLikersAction)({discussionId:e.discussion.id}),t.setState((function(){return{showLikeModal:!0}}))})),k()(m()(t),"onToggleDropdown",(function(e){e&&e.preventDefault(),t.setState((function(e){return{isDropdownActive:!e.isDropdownActive}}))})),k()(m()(t),"deleteDiscussion",(function(){var e=t.props.discussion;t.props.deleteDiscussionAction(e.id),t.toggleDeleteModal(!1)})),k()(m()(t),"followDiscussion",(function(){var e=t.props,s=e.discussion,n=e.isFollowing;t.props.followDiscussionAction(s.id,n)})),k()(m()(t),"openReportAction",(function(){t.setState({showReportModal:!0})})),k()(m()(t),"closeReportAction",(function(){t.setState({showReportModal:!1})})),k()(m()(t),"likeDiscussion",(function(){var e=t.props.discussion;t.props.likeDiscussionAction(e.id,t.state.isLiked)})),k()(m()(t),"toggleDeleteModal",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.setState({showDeleteModal:e})})),t.state={showDeleteModal:!1,showLikeModal:!1,showReportModal:!1,likeCount:e.likeCount||0,isLiked:e.isLiked||!1,isDropdownActive:!1},t}return D()(s,e),c()(s,[{key:"render",value:function(){var e=this,s=this.props,t=s.className,n=s.discussion,o=s.commentCount,a=s.intl,r=s.isFollowing,c=s.urlname,u=s.isClickable,l=s.isCollapsible,d=s.likers,f=s.media;if(void 0===n.id)return!1;var p=b.a.createElement("span",{className:r?be:Me,onClick:this.followDiscussion},r?b.a.createElement(A.FormattedMessage,ae.discussionCardUnfollow):b.a.createElement(A.FormattedMessage,ae.discussionCardFollow)),m=b.a.createElement("span",{className:he,onClick:function(){return e.toggleDeleteModal(!0)}},b.a.createElement(A.FormattedMessage,ae.discussionCardDelete)),g=b.a.createElement("span",{className:je,onClick:this.openReportAction},b.a.createElement(A.FormattedMessage,ae.discussionCardReport)),D=[(n.self||{}).canDelete?m:null,(n.self||{}).canFollow||(n.self||{}).canUnfollow?p:null,g].filter((function(e){return e})),h=D.length>0,k=Boolean(n.creator.id),M=k?"a":"div",E=k?{href:Object(pe.generateGroupMemberProfileUrl)(c,n.creator.id)}:{},w=Object(fe.b)(c,n.id,"chat"),O=Boolean(n.self&&(n.self.canLike||n.self.canUnlike)),C=this.state.likeCount>0,S=O,L=_()(ve,"button--reset","margin--none","padding--none","display--inlineBlock","comment-item-likeButton",{"comment-item-likeButton--active text--red":this.state.isLiked,"comment-item-likeButton--inactive":!this.state.isLiked}),T=_()(Oe,{"text--red":this.state.isLiked},{"text--secondary":!this.state.isLiked},"display--inlineBlock"),N=this.state.likeCount>1?a.formatMessage(ae.pluralLikes,{LIKE_COUNT:this.state.likeCount}):a.formatMessage(ae.singularLike),x=this.state.isLiked?a.formatMessage(ae.unlikeActionText):a.formatMessage(ae.likeActionText),P=this.state.isLiked?"heart":"heart-outline",B=b.a.createElement($.a,{className:L,id:"discussion-like_".concat(n.id),onChange:this.likeDiscussion,name:"discussion-like",value:"like",checked:this.state.isLiked,labelClassName:"margin--none",disabled:!O,reset:!0},b.a.createElement(J.a,{className:"flush--all",shape:P,size:"xs","aria-label":a.formatMessage(ae.discussionLikeActionLabel)}),f.isAtMediumUp&&b.a.createElement("p",{className:_()(T,"padding--left-half")},x)),F=b.a.createElement(Y.a,{className:T,onClick:this.onShowLikeModal,reset:!0},N),U=[];C&&U.push(F),S&&U.push(B);var H=y()(n.description),G=R()(H,{target:"_blank"}).split("\n").join("<br/>"),z=u?"a":"div",Q=u?{href:w}:{},Z=u?Ee:"",ee=u?_()(Ee,Le):"";return b.a.createElement("div",null,b.a.createElement(oe.ReportModal,{isVisible:this.state.showReportModal,onDismiss:this.closeReportAction},b.a.createElement(oe.GroupDiscussionReport,{id:n.id,onComplete:this.closeReportAction})),this.state.showDeleteModal&&b.a.createElement(de,{onDismiss:function(){return e.toggleDeleteModal(!1)},onConfirm:this.deleteDiscussion}),this.state.showLikeModal&&b.a.createElement(j.Portal,null,b.a.createElement(ie.a,{onDismiss:this.onDismissLikeModal,likers:d,urlname:c})),b.a.createElement("div",{className:_()(me,"card display--block border--none",t)},b.a.createElement(W.a,null,b.a.createElement(q.a,null,b.a.createElement(K.a,{shrink:!0},b.a.createElement(M,E,b.a.createElement(V.a,{className:ge,member:n.creator}))),b.a.createElement(K.a,{shrink:!0},b.a.createElement(M,i()({},E,{className:_()(Ce,"text--small text--bold display--block")}),0===n.creator.id?a.formatMessage(ae.formerMember):n.creator.name)),b.a.createElement(K.a,null,b.a.createElement(v.a,{to:w,className:Ee},b.a.createElement("p",{className:_()(De,"text--secondary text--small")},"•",b.a.createElement("span",{className:"display--inline padding--left-half"},b.a.createElement(A.FormattedDate,{value:n.created,month:"short",day:"numeric"}))))),h&&b.a.createElement(K.a,{shrink:!0,className:"align--right text--secondary"},b.a.createElement(I.a,{className:Se,align:"right",trigger:b.a.createElement(J.a,{shape:"overflow",size:"s","aria-label":a.formatMessage(ae.overflowIconLabel)}),menuItems:D,manualToggle:this.onToggleDropdown,onClick:this.onToggleDropdown,isActive:this.state.isDropdownActive})))),b.a.createElement(z,i()({},Q,{className:ee}),b.a.createElement(W.a,null,l?b.a.createElement(ne.a,{className:"".concat(ke," text--wrapNice"),dangerouslySetInnerHTML:{__html:G},maxLines:3,readMoreText:a.formatMessage(ae.discussionCardSeeMore)}):b.a.createElement("p",{className:"".concat(ke," text--wrapNice"),dangerouslySetInnerHTML:{__html:G}}))),b.a.createElement(W.a,null,b.a.createElement(q.a,null,b.a.createElement(K.a,null,b.a.createElement(z,i()({},Q,{className:_()("display--inlineFlex flush--all span--100",Z)}),o>0&&b.a.createElement("p",{className:_()(_e,"text--small","text--secondary","padding--right")},1===o&&b.a.createElement(A.FormattedMessage,i()({},ae.discussionCardOneReply,{values:{NUM_COMMENTS:o.toString()}})),o>1&&b.a.createElement(A.FormattedMessage,i()({},ae.discussionCardXReplies,{values:{NUM_COMMENTS:o.toString()}}))),(n.self||{}).canComment&&u&&b.a.createElement("p",{className:"text--small text--bold ".concat(we)},b.a.createElement(A.FormattedMessage,ae.discussionCardReply)))),b.a.createElement(K.a,{shrink:!0},b.a.createElement(X.a,{items:U,separator:"·",className:_()({"text--red":this.state.isLiked})}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,s){var t=e.isLiked,n=s;return s.isLiked!==t&&(n.isLiked=t,n.likeCount=t?n.likeCount+1:n.likeCount-1),n}}]),s}(b.a.PureComponent);k()(ye,"defaultProps",{commentCount:0});var Ae=Object(S.compose)(N.a,se()(te,!0),O.a)(ye);s.a=Ae},1678:function(e){e.exports=JSON.parse('{"en-US":{}}')},1679:function(e){e.exports=JSON.parse('{"en-US":{}}')},1680:function(e){e.exports=JSON.parse('{"en-US":{}}')}}]);
//# sourceMappingURL=discussionsDetail~discussionsList~groupHome.759bc9e4.js.map